name: 'Notify (IFTTT Integration)'
description: 'Send notification to IFTTT'
inputs:
  type:
    description: 'Notification type (Success, Error, Pending)'
    required: true
    default: 'error'
  repoName:
    description: 'Repository name'
    required: true
    default: ''
  branch:
    description: 'Branch name'
    required: false
    default: ''
  details:
    description: 'Notification message'
    required: false
    default: ''
  repoLink:
    description: 'Repository link'
    required: false
    default: ''
  IFTTT_EVENT: 
    description: 'IFTTT event name'
    required: false
    default: 'ga_notify'
  HEADER: 
    description: 'IFTTT header'
    required: false
    default: 'Content-Type: application/json'


runs:
  using: "composite"
  steps:
    - name: Print params
      run: |
        echo "type: ${{ inputs.type }}"
        echo "repoName: ${{ inputs.repoName }}"
        echo "branch: ${{ inputs.branch }}"
        echo "details: ${{ inputs.details }}"
        echo "repoLink: ${{ inputs.repoLink }}"
        echo "IFTTT_API: https://maker.ifttt.com/trigger/$IFTTT_EVENT/json/with/key/${{ secrets.IFTTT_KEY }}"
        echo "HEADER: $HEADER"
      shell: bash
